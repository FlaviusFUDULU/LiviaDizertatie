@model AplicatieSalariati.Models.Medic
@{
    ViewBag.Title = "Detalii";
}
<div class="row">

    <div class="col-sm-4" style="padding-top:20px">
        <div class="panel-body" style="background-color:#F4F4F4">
            <h2>
                Medic de familie
            </h2>
            <hr />
            <p>
                <b>
                    @Html.DisplayNameFor(model => model.Nume)
                </b>: @Html.DisplayFor(model => model.Nume)
            </p>
            <p>
                <b>
                    @Html.DisplayNameFor(model => model.Prenume)
                </b>: @Html.DisplayFor(model => model.Prenume)
            </p>
            <p>
                <b>
                    @Html.DisplayNameFor(model => model.Email)
                </b>:  @Html.DisplayFor(model => model.Email)
            </p>
            <p>
                <b>
                    @Html.DisplayNameFor(model => model.Numartelefon)
                </b>: @Html.DisplayFor(model => model.Numartelefon)
            </p>
            @foreach (var programare in Model.Pacients.FirstOrDefault().Programari)
            {
                if (programare.StartDateTime > DateTime.Now)
                {
                    <p style="color:darkred"><i>Aveți o programare în data de: @programare.StartDateTime.ToString("dd/MM/yyyy") la orele: @programare.StartDateTime.ToString("HH:mm") - @programare.EndDateTime.ToString("HH:mm")</i></p>
                }
            }
            <hr style="border: 1px solid;" />
            <h3>Orar cabinet</h3>

            @if (Model.OrarMedic.ZiNelucratoareLuni)
            {
                <p>
                    <b>
                        Luni
                    </b>: Închis
                </p>
            }
            else
            {
                <p>
                    <b>
                        Luni
                    </b>: @Html.DisplayFor(model => model.OrarMedic.LuniStart) - @Html.DisplayFor(model => model.OrarMedic.LuniEnd)
                </p>
            }
            @if (Model.OrarMedic.ZiNelucratoareMarti)
            {
                <p>
                    <b>
                        Marți
                    </b>: Închis
                </p>
            }
            else
            {
                <p>
                    <b>
                        Marți
                    </b>: @Html.DisplayFor(model => model.OrarMedic.MartiStart) - @Html.DisplayFor(model => model.OrarMedic.MartiEnd)
                </p>
            }
            @if (Model.OrarMedic.ZiNelucratoareMiercuri)
            {
                <p>
                    <b>
                        Miercuri
                    </b>: Închis
                </p>
            }
            else
            {
                <p>
                    <b>
                        Miercuri
                    </b>: @Html.DisplayFor(model => model.OrarMedic.MiercuriStart) - @Html.DisplayFor(model => model.OrarMedic.MiercuriEnd)
                </p>
            }
            @if (Model.OrarMedic.ZiNelucratoareJoi)
            {
                <p>
                    <b>
                        Joi
                    </b>: Închis
                </p>
            }
            else
            {
                <p>
                    <b>
                        Joi
                    </b>: @Html.DisplayFor(model => model.OrarMedic.JoiStart) - @Html.DisplayFor(model => model.OrarMedic.JoiEnd)
                </p>
            }
            @if (Model.OrarMedic.ZiNelucratoareVineri)
            {
                <p>
                    <b>
                        Vineri
                    </b>: Închis
                </p>
            }
            else
            {
                <p>
                    <b>
                        Vineri
                    </b>: @Html.DisplayFor(model => model.OrarMedic.VineriStart) - @Html.DisplayFor(model => model.OrarMedic.VineriEnd)
                </p>
            }
            @if (Model.OrarMedic.ZiNelucratoareSambata)
            {
                <p>
                    <b>
                        Sâmbătă
                    </b>: Închis
                </p>
            }
            else
            {
                <p>
                    <b>
                        Sâmbătă
                    </b>: @Html.DisplayFor(model => model.OrarMedic.SambataStart) - @Html.DisplayFor(model => model.OrarMedic.SmbataEnd)
                </p>
            }
            @if (Model.OrarMedic.ZiNelucratoareDuminica)
            {
                <p>
                    <b>
                        Duminică
                    </b>: Închis
                </p>
            }
            else
            {
                <p>
                    <b>
                        Duminică
                    </b>: @Html.DisplayFor(model => model.OrarMedic.DuminicaStart) - @Html.DisplayFor(model => model.OrarMedic.DuminicaEnd)
                </p>
            }
        </div>
    </div>
    <div class="col-sm-8">
        <h2>Istoricul meu medical</h2>
        <div class="table-responsive">
            <table class="table">
                <tr>
                    <th bgcolor="#F4F4F4">
                        Diagnostic
                    </th>
                    <th bgcolor="#F4F4F4" style="text-align:right">
                        Data
                    </th>
                </tr>
                <div id="accordion">
                    @foreach (var istoric in Model.Pacients.FirstOrDefault().Istorics)
                    {

                        <tr data-toggle="collapse" data-target="#@istoric.IstoricId">
                            <td>
                                <button class="btn btn-link collapsed" aria-expanded="false" aria-controls="collapseOne">
                                    @istoric.Diagnostic
                                </button>
                            </td>
                            <td style="text-align:right">
                                <button class="btn btn-link collapsed" aria-expanded="false" aria-controls="collapseOne">
                                    @istoric.Data
                                </button>
                            </td>
                        </tr>

                        <tr class="collapse" data-parent="#accordion" id="@istoric.IstoricId">
                            <td>
                                <div class="panel panel-default">
                                    <div class="panel-body">
                                        <p>
                                            <b>
                                                Tratament:

                                            </b>
                                            @istoric.Tratament
                                        </p>

                                        @if (@istoric.Internare)
                                        {
                                            <p><b>Internare: </b>Da</p>
                                        }
                                        else
                                        {
                                            <p><b>Internare: </b>Nu</p>
                                        }

                                        <p>
                                            <b>
                                                Institutie medicala


                                            </b>
                                            : @istoric.Spital
                                        </p>
                                        <p>
                                            <b>
                                                Sectie

                                            </b>
                                            : @istoric.Sectie
                                        </p>
                                        @if (@istoric.InterventieChirurgicala)
                                        {
                                            <p><b>Interventie chirurgicala: </b>Da</p>
                                        }
                                        else
                                        {
                                            <p><b>Interventie chirurgicala: </b>Nu</p>
                                        }
                                        <p>
                                            <b>
                                                Detalii

                                            </b>
                                            : @istoric.DetaliiInterventie
                                        </p>

                                    </div>
                                </div>
                            </td>
                            <td></td>
                            <td></td>
                        </tr>
                    }
            </table>
        </div>

    </div>
</div>