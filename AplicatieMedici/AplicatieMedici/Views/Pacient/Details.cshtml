@model AplicatieSalariati.Models.Pacient
@{
                /**/

                ViewBag.Title = "Detalii";
}
<h2>Detalii pacient</h2>

<div class="row">

    <div class="col-sm-4">
        <div class="panel-body" style="background-color:#F4F4F4">
            <hr />
            <p>
                <b>
                    @Html.DisplayNameFor(model => model.CNP)
                </b>: @Html.DisplayFor(model => model.CNP)
            </p>
            <p>
                <b>
                    @Html.DisplayNameFor(model => model.Nume)
                </b>: @Html.DisplayFor(model => model.Nume)
            </p>
            <p>
                <b>
                    @Html.DisplayNameFor(model => model.Prenume)
                </b>: @Html.DisplayFor(model => model.Prenume)
            </p>
            <p>
                <b>
                    @Html.DisplayNameFor(model => model.Email)
                </b>:  @Html.DisplayFor(model => model.Email)
            </p>
            <p>
                <b>
                    @Html.DisplayNameFor(model => model.Adresa)
                </b>: @Html.DisplayFor(model => model.Adresa)
            </p>
            <p>
                <b>
                    @Html.DisplayNameFor(model => model.Numartelefon)
                </b>: @Html.DisplayFor(model => model.Numartelefon)
            </p>
            <p>
                <b>
                    @Html.DisplayNameFor(model => model.Sex)
                </b>: @Html.DisplayFor(model => model.Sex)
            </p>
            <p>
                <b>
                    @Html.DisplayNameFor(model => model.DataNasterii)
                </b>: @Html.DisplayFor(model => model.DataNasterii)
            </p>
            <p>
                <b>
                    @Html.DisplayNameFor(model => model.ActIdentitate)
                </b>
                : @Html.DisplayFor(model => model.ActIdentitate)
            </p>
            <p>
                <b>
                    @Html.DisplayNameFor(model => model.AlergiiIntolerante)
                </b>
                : @Html.DisplayFor(model => model.AlergiiIntolerante)
            </p>
            <p>
                <b>
                    @Html.DisplayNameFor(model => model.BoliCronice)
                </b>
                : @Html.DisplayFor(model => model.BoliCronice)
            </p>
            <p>
                <b>
                    @Html.DisplayNameFor(model => model.GrupaSange)
                </b>
                : @Html.DisplayFor(model => model.GrupaSange)
            </p>
        </div>
    </div>
    <div class="col-sm-8">
        <h2>Istoric</h2>
        <div class="table-responsive">
            <table class="table">
                <tr>
                    <th bgcolor="#F4F4F4">
                        Diagnostic
                    </th>
                    <th bgcolor="#F4F4F4">
                        Data
                    </th>
                    <th bgcolor="#F4F4F4"></th>
                </tr>
                <div id="accordion">
                    @foreach (var istoric in Model.Istorics)
                    {

                        <tr data-toggle="collapse" data-target="#@istoric.IstoricId">
                            <td>
                                <button class="btn btn-link collapsed" aria-expanded="false" aria-controls="collapseOne">
                                    @istoric.Diagnostic
                                </button>
                            </td>
                            <td>
                                <button class="btn btn-link collapsed" aria-expanded="false" aria-controls="collapseOne">
                                    @istoric.Data
                                </button>
                            </td>
                            <td style="text-align: right;">
                                <a type="button" href="@Url.Action("DetailsReteta", "Pacient", new { id = istoric.IstoricId})" class="btn btn-info" aria-label="Left Align" data-toggle="tooltip" title="Vizualizează rețete">
                                    <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
                                </a>
                                <a type="button" href="@Url.Action("Reteta", "Pacient", new { id = istoric.IstoricId})" class="btn btn-info" aria-label="Left Align" data-toggle="tooltip" title="Adaugă rețetă la diagnostic">
                                    <span class="glyphicon glyphicon-book" aria-hidden="true"></span>
                                </a>
                                <a type="button" href="@Url.Action("EditIstoric", "Pacient", new { id = istoric.IstoricId})" class="btn btn-info" aria-label="Left Align" data-toggle="tooltip" title="Editează diagnostic">
                                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                </a>
                            </td>
                        </tr>

                        <tr class="collapse" data-parent="#accordion" id="@istoric.IstoricId">
                            <td>
                                <div class="panel panel-default">
                                    <div class="panel-body">
                                        <p>
                                            <b>
                                                Tratament:
                                                @*@Html.DisplayFor(model => model.Istorics.)*@
                                            </b>
                                            @istoric.Tratament
                                        </p>

                                        @if (@istoric.Internare)
                                        {
                                            <p><b>Internare: </b>Da</p>
                                        }
                                        else
                                        {
                                            <p><b>Internare: </b>Nu</p>
                                        }

                                        <p>
                                            <b>
                                                Institutie medicala

                                                @*@Html.DisplayFor(model => model.Istorics.)*@
                                            </b>
                                            : @istoric.Spital
                                        </p>
                                        <p>
                                            <b>
                                                Sectie
                                                @*@Html.DisplayFor(model => model.Istorics.)*@
                                            </b>
                                            : @istoric.Sectie
                                        </p>
                                        @if (@istoric.InterventieChirurgicala)
                                        {
                                            <p><b>Interventie chirurgicala: </b>Da</p>
                                        }
                                        else
                                        {
                                            <p><b>Interventie chirurgicala: </b>Nu</p>
                                        }
                                        <p>
                                            <b>
                                                Detalii
                                                @*@Html.DisplayFor(model => model.Istorics.)*@
                                            </b>
                                            : @istoric.DetaliiInterventie
                                        </p>

                                    </div>
                                </div>
                            </td>
                            <td></td>
                            <td></td>
                        </tr>
                    }
            </table>
        </div>

    </div>
</div>


@*<script>
    $(document).ready(function(){
      $('[data-toggle="tooltip"]').tooltip();
    });
    </script>*@